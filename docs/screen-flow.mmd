%%{init:{'theme':'default'}}%%
flowchart TD
    %% ç”»é¢: ãƒ›ãƒ¼ãƒ ç”»é¢
    Home["ğŸ  ãƒ›ãƒ¼ãƒ ç”»é¢<br/>(Home)"]
    
    %% ã‚¢ã‚¯ã‚·ãƒ§ãƒ³: ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯
    CreateTeamAction{{"ğŸ†• ãƒãƒ¼ãƒ ä½œæˆãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯<br/>"}}
    JoinTeamAction{{"ğŸ‘¥ ãƒãƒ¼ãƒ å‚åŠ ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯<br/>"}}
    
    %% ç”»é¢: é›£æ˜“åº¦é¸æŠç”»é¢
    DifficultySelect["âš™ï¸ é›£æ˜“åº¦é¸æŠç”»é¢<br/>(DifficultySelection)<br/>ãƒ»åˆç´š (Easy)<br/>ãƒ»ä¸­ç´š (Medium)<br/>ãƒ»ä¸Šç´š (Hard)<br/>ãƒ»ãã®ä»– (Other)"]
    
    %% ç”»é¢: ãƒãƒ¼ãƒ ç•ªå·å…¥åŠ›ç”»é¢
    TeamNumberInput["ğŸ”¢ ãƒãƒ¼ãƒ ç•ªå·å…¥åŠ›ç”»é¢<br/>(TeamNumberInput)<br/>ãƒãƒ¼ãƒ ç•ªå·: 12345"]
    
    %% ç”»é¢: ãƒãƒ¼ãƒ å¾…æ©Ÿç”»é¢
    TeamWaiting["â³ ãƒãƒ¼ãƒ å¾…æ©Ÿç”»é¢<br/>(TeamWaiting)<br/>ãƒãƒ¼ãƒ ç•ªå·: 12345<br/>ğŸ‘¤ å¹»åƒ<br/>ğŸ“ ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼<br/>1. ã¯ãªã‹ã£ã±<br/>2. ã¿ãªã‹ã£ã±<br/>3. ã‹ãªã§<br/>4. ãŸã‚ã†"]

    %% ç”»é¢: ãƒãƒƒãƒãƒ³ã‚°ç”»é¢
    Matching["ğŸ¯ ãƒãƒƒãƒãƒ³ã‚°ç”»é¢<br/>(Matching)<br/>å¯¾æˆ¦ç›¸æ‰‹ã‚’æ¢ã—ã¦ã„ã¾ã™..."]
    
    %% ã‚¤ãƒ™ãƒ³ãƒˆ: ãƒãƒƒãƒãƒ³ã‚°æˆç«‹
    MatchFoundEvent{{"âœ… ãƒãƒƒãƒãƒ³ã‚°æˆç«‹<br/>vs ãƒãƒ¼ãƒ â—‹â—‹"}}

    %% ç”»é¢: ã‚²ãƒ¼ãƒ ç”»é¢
    GamePlay["ğŸ§© ã‚²ãƒ¼ãƒ ç”»é¢<br/>(GamePlay)<br/>ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ <br/>ã‚¸ã‚°ã‚½ãƒ¼ãƒ‘ã‚ºãƒ«"]

    %% ã‚¤ãƒ™ãƒ³ãƒˆ: ã‚²ãƒ¼ãƒ çµæœ
    VictoryEvent{{"ğŸ‰ å‹åˆ©æ¼”å‡º<br/>"}}
    DefeatEvent{{"ğŸ˜¢ æ•—åŒ—æ¼”å‡º<br/>"}}

    %% ç”»é¢: çµæœç”»é¢
    ResultScreen["ğŸ“Š çµæœç”»é¢<br/>(ResultScreen)<br/>ã‚²ãƒ¼ãƒ çµ±è¨ˆ"]
    
    %% ãƒ•ãƒ­ãƒ¼å®šç¾©
    Home --> CreateTeamAction
    Home --> JoinTeamAction
    
    CreateTeamAction --> DifficultySelect
    DifficultySelect --> TeamWaiting
    
    JoinTeamAction --> TeamNumberInput
    TeamNumberInput --> TeamWaiting
    
    TeamWaiting --> Matching
    Matching --> MatchFoundEvent
    MatchFoundEvent --> GamePlay
    
    GamePlay --> VictoryEvent
    GamePlay --> DefeatEvent
    
    VictoryEvent --> ResultScreen
    DefeatEvent --> ResultScreen
    
    ResultScreen --> Home
    
    %% ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°
    classDef screenStyle fill:#007aff,stroke:#0056cc,color:#fff,stroke-width:3px
    classDef actionStyle fill:#ff9500,stroke:#e6860a,color:#fff,stroke-width:2px
    classDef eventStyle fill:#34c759,stroke:#28a745,color:#fff,stroke-width:2px
    
    %% ç”»é¢ãƒãƒ¼ãƒ‰ (å››è§’)
    class Home,DifficultySelect,TeamNumberInput,TeamWaiting,Matching,GamePlay,ResultScreen screenStyle
    
    %% ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ»ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ¼ãƒ‰ (ä¸¸è§’)
    class CreateTeamAction,JoinTeamAction actionStyle
    class MatchFoundEvent,VictoryEvent,DefeatEvent eventStyle